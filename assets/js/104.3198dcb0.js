(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{505:function(t,n,s){"use strict";s.r(n);var a=s(46),e=Object(a.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"基本命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[t._v("#")]),t._v(" 基本命令")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("########### 镜像相关 ################")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搜索tomcat镜像")]),t._v("\ndocker search tomcat\t\t \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拉取centos镜像                   ")]),t._v("\ndocker pull centos:7\t\t \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看镜像")]),t._v("\ndocker images\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除images（镜像），通过image的id来指定删除谁")]),t._v("\ndocker rmi "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("image id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                      \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("########## 容器相关 #################")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以交互方式创建并运行容器：")]),t._v("\ndocker run -it --name 容器名称 repository:tag /bin/bash\ndocker run -it --name 容器名称 imageID /bin/bash\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以守护进程方式运行容器：")]),t._v("\ndocker run -itd --name 容器名称 repository:tag\ndocker run -itd --name 容器名称 imageID\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意：通过 run 创建并进入容器之后，如果使用 exit 命令退出容器，则容器停止。再次进入该容器，先使用 start 启动容器，再使用 exec/attach 命令进入容器")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看容器")]),t._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-a查看全部"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看容器详情                ")]),t._v("\ndocker inspect 容器名称或者容器ID\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入容器")]),t._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it 容器名称或者容器ID /bin/bash\ndocker attach 容器名称或者容器ID\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 两者之间的区别：")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# attach 进入容器之后，如果使用 exit 退出容器，则容器停止。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# exec 进入容器之后，使用 exit 退出容器，容器依然处于运行状态。")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止一个容器")]),t._v("\ndocker stop Name或者ID    \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动一个容器          ")]),t._v("\ndocker start Name或者ID   \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 杀死一个容器          ")]),t._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" Name或者ID  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启一个容器            ")]),t._v("\ndocker restart name或者ID      \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除容器")]),t._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" 容器名称\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除所有container（容器）的话再加一个指令    ")]),t._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -aq"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("     \n")])])]),s("h2",{attrs:{id:"docker进阶命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker进阶命令"}},[t._v("#")]),t._v(" docker进阶命令")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从容器创建一个新的镜像")]),t._v("\ndocker commit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("REPOSITORY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":TAG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  OPTIONS说明：\n  -a :提交的镜像作者；\n  -c :使用Dockerfile指令来创建镜像；\n  -m :提交时的说明文字；\n  -p :在commit时，将容器暂停。\ndocker commit -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"runoob.com"')]),t._v(" -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my apache"')]),t._v(" a404c6c174a2  mymysql:v1 \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将容器platform_web保存为镜像phpctl")]),t._v("\ndocker commit platform_web phpctl:1.0\t\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将指定镜像保存成 tar 归档文件")]),t._v("\ndocker save "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" IMAGE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("IMAGE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  OPTIONS 说明：\n  -o :输出到的文件。\ndocker save -o my_ubuntu_v3.tar runoob/ubuntu:v3  \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 导入使用 docker save 命令导出的镜像")]),t._v("\ndocker load "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" busybox.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从归档文件中创建镜像")]),t._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("URL"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("REPOSITORY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":TAG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  OPTIONS说明：\n  -c :应用docker 指令创建镜像；\n  -m :提交时的说明文字；\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v("  my_ubuntu_v3.tar runoob/ubuntu:v4  \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 标记本地镜像，将其归入某一仓库")]),t._v("\ndocker tag "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" IMAGE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":TAG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("REGISTRYHOST/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("USERNAME/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":TAG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ndocker tag ubuntu:15.10 runoob/ubuntu:v3\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 为phpctl打tag，做传输使用\t")]),t._v("\ndocker tag phpctl:1.0 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.52")]),t._v(".0.174:8081/tsnslink/phpctl:1.0\t\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将镜像传到仓库,将本地的镜像上传到镜像仓库")]),t._v("\ndocker push "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.52")]),t._v(".0.174:8081/tsnslink/phpctl:1.0\t\t\n\ndocker run -it -p 宿主机端口号:容器端口号 -v /宿主机/文件目录:/容器/目录\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run复杂时尽量用Dockfile")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出当前宿主机上运行的docker网路")]),t._v("\ndocker network "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n")])])]),s("h2",{attrs:{id:"参考链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),s("p",[t._v("https://www.zhihu.com/people/qing-xiang-bai-lian-7/posts?page=3"),s("br"),t._v("\nhttps://cdn.modb.pro/u/371162")])])}),[],!1,null,null,null);n.default=e.exports}}]);