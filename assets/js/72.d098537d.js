(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{423:function(t,s,a){"use strict";a.r(s);var n=a(46),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),a("ol",[a("li",[t._v("软件包管理工具 apt\nsudo apt update  更新软件列表，存放可下载安装的软件及版本，若有新的软件版本更新，安装最新的")]),t._v(" "),a("li",[t._v("tldr和man一样，查看命令说明，比man更简便")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" tldr\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" remove tldr\n")])])]),a("ul",[a("li",[t._v("man还可以查看函数")]),t._v(" "),a("li",[t._v("man -k 按关键字查询")]),t._v(" "),a("li",[t._v("man -k printf 查找命令和描述中包含关键字的命令")]),t._v(" "),a("li",[t._v("man -f printf 查找命令在哪一章中")]),t._v(" "),a("li",[t._v("配置了zsh，会自动补全，如果需要删掉，ctrl+k删除光标后的所有字符串   ctrl+d一个字符一个字符删   ctrl+u 删除整行  ctrl+c不执行当前行")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("vim文本编辑器")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 普通模式")]),t._v("\n/mail  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搜素mail")]),t._v("\nh      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 左 ")]),t._v("\nj      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下")]),t._v("\nk      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 上")]),t._v("\nl      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 右")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("centos安装man")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("man")]),t._v(" man-pages man-pages-overrides\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("通过修改配置文件\n首先是设置全局环境变量，对所有用户都会生效：")])]),t._v(" "),a("p",[t._v("1、/etc/profile: 此文件为系统的每个用户设置环境信息。当用户登录时，该文件被执行一次，并从 /etc/profile.d 目录的配置文件中搜集shell 的设置。一般用于设置所有用户使用的全局变量。\n2、/etc/bashrc: 当 bash shell 被打开时，该文件被读取。也就是说，每次新打开一个终端 shell，该文件就会被读取。")]),t._v(" "),a("p",[t._v("对单个用户生效:")]),t._v(" "),a("p",[t._v("1、~/.bash_profile 或 ~/.profile: 只对单个用户生效，当用户登录时该文件仅执行一次。用户可使用该文件添加自己使用的 shell 变量信息。另外在不同的LINUX操作系统下，这个文件可能是不同的，可能是 ~/.bash_profile， ~/.bash_login 或 ~/.profile 其中的一种或几种，如果存在几种的话，那么执行的顺序便是：~/.bash_profile、 ~/.bash_login、 ~/.profile。比如 Ubuntu 系统一般是 ~/.profile 文件。\n2、~/.bashrc: 只对单个用户生效，当登录以及每次打开新的 shell 时，该文件被读取。")]),t._v(" "),a("p",[t._v("此外，修改 /etc/environment 这个文件也能实现环境变量的设置。\n/etc/environment是设置整个系统的环境，而/etc/profile是设置所有用户的环境，前者与登录用户无关，后者与登录用户有关。\n注：系统是先执行/etc/environment，再执行/etc/profile")]),t._v(" "),a("p",[t._v("以修改/etc/profile 为例：")]),t._v(" "),a("p",[t._v('PATH="$PATH:/root/.config/composer/vendor/bin"\nexport PATH')]),t._v(" "),a("p",[t._v("执行\nsource /etc/profile\n使其立即生效。")]),t._v(" "),a("h2",{attrs:{id:"lsof命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lsof命令"}},[t._v("#")]),t._v(" lsof命令")]),t._v(" "),a("p",[t._v("http://blog.itpub.net/31397003/viewspace-2147485")]),t._v(" "),a("h2",{attrs:{id:"lsof、ps、netstat区别与使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lsof、ps、netstat区别与使用"}},[t._v("#")]),t._v(" lsof、ps、netstat区别与使用")]),t._v(" "),a("blockquote",[a("p",[t._v("查看端口占用")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -an "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -i:8080\n")])])]),a("p",[t._v("区别：\nnetstat：用于显示各种网络相关信息，如网络连接、路由表、接口装填")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有选项，默认不显示listen相关")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tcp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#仅显示tcp相关选项")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("udp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#仅显示udp相关选项")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拒绝显示别名，能显示数字的全部转化成数字")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -l      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#仅列出有在listen的服务状态")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -p      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示简历相关链接的程序名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -r      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示路由信息，路由表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -e      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示扩展信息，例如uid等")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -s      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#按各个协议进行统计")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -c      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#每隔一个固定时间，执行该netstat命令")]),t._v("\n")])])]),a("p",[t._v("lsof：(列出打开文件lists openfiles) 能看到pid和用户(由控制权限，只能看到本用户)，可以找到哪个进程占用了这个端口")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" /etc/passed                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#哪个进程在占用/etc/passed   ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" /dev/hda6                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#哪个进程在占用hda6")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" /dev/cdrom                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#哪个进程在占用光驱")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -c "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendmail")]),t._v("                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看sendmail进程的文件使用情况  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30297")]),t._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示哪些被pid为30297的进程打开")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -D /tmp                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有在/tmp文件夹中打开的instance和文件的进程")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -u1000                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看uid为1000的用户的进程的文件使用情况")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -utony                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看用户tony的进程的文件使用情况")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -u^tony                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看不是用户tony的进程的文件使用情况")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -i                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有打开的端口")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -i:80                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有打开80端口的进程")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -i -U                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有打开的端口和UNIX domain文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -i UDP@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("www.alidia.com:123 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示哪些进程打开了到www.alidia.com的UDP的123端口的链接")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" -i tcp@ahaha.ks.edu.tw:ftp -r  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不断查看目前ftp连接的情况")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("显示瞬间进程的状态\nps:(process) 查看有终端控制的所有进程")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" worf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" aux a代表all，x显示没有终端控制的进程\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);