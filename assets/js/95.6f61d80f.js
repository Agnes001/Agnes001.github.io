(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{432:function(s,t,a){"use strict";a.r(t);var n=a(46),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("特别注意："),a("strong",[s._v("使用cmake编译项目，可以不需要配置Tasks任务。远程虚拟机需要安装cmake。")])]),s._v(" "),a("p",[s._v("vscode：c/c++、 cmake、 cmake tools")]),s._v(" "),a("p",[s._v("::: tips\n用户tct不在sudoers中，此事将被报告\n进入root模式，cd /etc\nvi sudoers\n找到root  ALL=(ALL)   ALL文件，在下方添加自己的账户并:wq!进行强制保存退出，\ntct  ALL=(ALL)   ALL\n:::")]),s._v(" "),a("h2",{attrs:{id:"环境准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[s._v("#")]),s._v(" 环境准备")]),s._v(" "),a("h3",{attrs:{id:"升级gcc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级gcc"}},[s._v("#")]),s._v(" 升级gcc")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" centos-release-scl\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" devtoolset-8\nscl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" devtoolset-8 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scl enable devtoolset-8 bash"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bash_profile\n")])])]),a("h3",{attrs:{id:"安装openssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装openssl"}},[s._v("#")]),s._v(" 安装openssl")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssl-devel\n")])])]),a("h3",{attrs:{id:"安装libuuid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装libuuid"}},[s._v("#")]),s._v(" 安装libuuid:")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libuuid-devel\n")])])]),a("h3",{attrs:{id:"安装zlib"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装zlib"}},[s._v("#")]),s._v(" 安装zlib:")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" zlib-devel\n")])])]),a("h2",{attrs:{id:"环境安装cmake"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境安装cmake"}},[s._v("#")]),s._v(" 环境安装CMake")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf CMake.tar.gz  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git clone https://github.com/Kitware/CMake")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" CMake "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" CMakeCache.txt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果有CMakeCache.txt需要删掉")]),s._v("\n./bootstrap\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h2",{attrs:{id:"linux环境编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux环境编译"}},[s._v("#")]),s._v(" linux环境编译")]),s._v(" "),a("p",[s._v("在Linux平台下编译，需要编译安装依赖库。")]),s._v(" "),a("h3",{attrs:{id:"客户端安装的库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端安装的库"}},[s._v("#")]),s._v(" 客户端安装的库")]),s._v(" "),a("h4",{attrs:{id:"iniparser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iniparser"}},[s._v("#")]),s._v(" iniparser")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://codeload.github.com/ndevilla/iniparser/tar.gz/refs/tags/v4.1 -O iniparserv4.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf iniparserv4.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" iniparser-4.1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h4",{attrs:{id:"log4cplus-2-0-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log4cplus-2-0-6"}},[s._v("#")]),s._v(" log4cplus  2.0.6")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf log4cplus-2.0.6.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" log4cplus-2.0.6\n./configure --enable-static "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CXXFLAGS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-std=c++0x"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h4",{attrs:{id:"jsoncpp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsoncpp"}},[s._v("#")]),s._v(" jsoncpp")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" build\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" build\ncmake "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h4",{attrs:{id:"curl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#curl"}},[s._v("#")]),s._v(" curl")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf curl-7.75.0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" curl-7.75.0\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h3",{attrs:{id:"服务器端需要安装额外安装的库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器端需要安装额外安装的库"}},[s._v("#")]),s._v(" 服务器端需要安装额外安装的库")]),s._v(" "),a("h4",{attrs:{id:"drogon-1-6-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#drogon-1-6-0"}},[s._v("#")]),s._v(" drogon 1.6.0")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$WORK_PATH")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/an-tao/drogon\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout v1.6.0 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据tag切换到指定版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" drogon\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" submodule update --init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" build\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" build\ncmake "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h4",{attrs:{id:"libssh2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#libssh2"}},[s._v("#")]),s._v(" libssh2")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://www.libssh2.org/download/libssh2-1.4.3.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf libssh2-1.4.3.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" libssh2-1.4.3\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h3",{attrs:{id:"配置编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置编译"}},[s._v("#")]),s._v(" 配置编译")]),s._v(" "),a("p",[s._v("如果在编译环境中没有找到所需的gcc版本，需要配置。\n在vscode中设置open the Command Palette (Ctrl+Shift+P) and run the CMake: Edit User-Local CMake Kits comman。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GCC 8.3.1 x86_64-redhat-linux"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"compilers"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/opt/rh/devtoolset-8/root/usr/bin/gcc"')]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CXX"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/opt/rh/devtoolset-8/root/usr/bin/g++"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 记得要加上CXX，否则编译会出错")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"交叉编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交叉编译"}},[s._v("#")]),s._v(" 交叉编译")]),s._v(" "),a("p",[s._v("交叉编译，通过引用expend_new，不需要自己安装编译库。")]),s._v(" "),a("h3",{attrs:{id:"安装编译工具链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装编译工具链"}},[s._v("#")]),s._v(" 安装编译工具链")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabihf.tar.xz -C /home/wjl/dev-lib/cross-tools "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#(-C change改变目录,原文件名称还在)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加如下配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/wjl/dev-lib/cross_tools/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行source /etc/profile使其立即生效。")]),s._v("\n")])])]),a("h3",{attrs:{id:"配置交叉编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置交叉编译"}},[s._v("#")]),s._v(" 配置交叉编译")]),s._v(" "),a("p",[s._v("vi /home/tct/.local/share/CMakeTools/cmake-tools-kits.json 加入如下内容")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("，\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"arm-cross-complier"')]),s._v(",\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"toolchainFile"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/tct/workspace/tongkong/cross-tools/toolchain.cmake"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 记得在前面加逗号，")]),s._v("\n")])])]),a("p",[s._v("也可在vscode中设置open the Command Palette (Ctrl+Shift+P) and run the CMake: Edit User-Local CMake Kits comman。加入上述内容。")]),s._v(" "),a("p",[s._v("toolchain.cmake的内容")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### toolchain.cmake ###")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# this is required")]),s._v("\nSET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_SYSTEM_NAME arm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# specify the cross compiler")]),s._v("\nSET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_C_COMPILER   /home/tct/workspace/tongkong/cross-tools/bin/arm-linux-gnueabihf-gcc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nSET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_COMPILER /home/tct/workspace/tongkong/cross-tools/bin/arm-linux-gnueabihf-g++"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"其他依赖安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他依赖安装"}},[s._v("#")]),s._v(" 其他依赖安装")]),s._v(" "),a("h3",{attrs:{id:"boost"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#boost"}},[s._v("#")]),s._v(" boost")]),s._v(" "),a("p",[s._v("https://www.pianshen.com/article/8462938611/")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://boostorg.jfrog.io/artifactory/main/release/1.79.0/source/boost_1_79_0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf boost_1_79_0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" boost_1_79_0\n./bootstrap.sh\n/b2 --without-python stage debug\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rf boost /usr/include\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rf stage/lib/* /usr/lib64 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 库目录默认存放在stage目录下")]),s._v("\n")])])]),a("h2",{attrs:{id:"cmakelists-txt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cmakelists-txt"}},[s._v("#")]),s._v(" CMakeLists.txt")]),s._v(" "),a("p",[s._v("从 link_directories 的文档：此命令仅适用于在调用后创建的目标。\n对于make link_directories（）调用工作，您需要在add_executable之前）")]),s._v(" "),a("h3",{attrs:{id:"客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[s._v("#")]),s._v(" 客户端")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),s._v(".0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CommunicationControlProject VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_FLAGS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CXX_FLAGS}")]),s._v(' -Wall -std=c++11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CXX_COMPILER}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# GLOB_RECURSE命令不仅可以遍历当前路径，还可以遍历路径下面的所有子目录")]),s._v("\nfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GLOB_RECURSE EXTRA_FILES  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src/*.cpp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GLOB_RECURSE EXTRA_C_FILES  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src/*.c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NOT CMAKE_CROSSCOMPILING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("INCLUDE_DIR "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/include"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LINK_DIR "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linux gcc ==============="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("INCLUDE_DIR "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v('/DependLibs/backup/arm"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LINK_DIR "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v('/DependLibs/backup/arm-lib"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jiaochabianyi ==============="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nendif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nLINK_DIRECTORIES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LINK_DIR}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定要链接的库文件的路径")]),s._v("\n\nadd_executable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CommunicationControlProject "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src/entry.cpp "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${EXTRA_FILES}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${EXTRA_C_FILES}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("############# 代码目录 #################")]),s._v("\nSET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SRC_INC "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget_include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PUBLIC "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("\n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/CommonModel  \n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/CommunicationModel  \n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/DataModel  \n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/DispatchManager  \n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/FSModel  \n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/IniModel\n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/JsonModel\n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/RecordModel\n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_INC}")]),s._v("/StateMonitoringModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("     \n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NOT CMAKE_CROSSCOMPILING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  target_include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PUBLIC "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/DependLibs/backup/arm/CanFD/include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  target_include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PUBLIC "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/Ini\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/json\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/curl\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/log4cplus\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/DependLibs/backup/arm/mesh/include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  target_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v("  log4cplus pthread jsoncpp "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" iniparser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  target_include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PUBLIC "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/CanFD/include\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/Ini/include\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/Json/include\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/libcurl/include/curl\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/Log/include\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/Log/include/log4cplus\n                                                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${INCLUDE_DIR}")]),s._v("/mesh/include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  target_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v("  z crypto ssl ssh2  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v("  pthread jsoncpp log4cplus iniparser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nendif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[s._v("#")]),s._v(" 服务端")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("webservice CXX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NOT CMAKE_CROSSCOMPILING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BUILD_PROGRAMS ON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/include/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   \tLINK_DIRECTORIES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"================== linux gcc =================="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_FIND_ROOT_PATH /usr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BUILD_PROGRAMS OFF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tinclude_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/tct/workspace/tongkong/expend_new/include/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#TODO:添加动态链接库路径")]),s._v("\n\tLINK_DIRECTORIES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/tct/workspace/tongkong/expend_new/lib"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"================ jiaochabianyi ==============="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_FIND_ROOT_PATH "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/tct/workspace/tongkong/expend_new"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nendif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ninclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CheckIncludeFileCXX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncheck_include_file_cxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("any HAS_ANY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncheck_include_file_cxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string_view HAS_STRING_VIEW"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncheck_include_file_cxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("coroutine HAS_COROUTINE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HAS_ANY AND HAS_STRING_VIEW AND HAS_COROUTINE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_STANDARD "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nelseif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HAS_ANY AND HAS_STRING_VIEW"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_STANDARD "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_STANDARD "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nendif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_STANDARD_REQUIRED ON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_EXTENSIONS OFF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_FLAGS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CXX_FLAGS}")]),s._v(' -g -Wall"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nadd_executable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" main.cc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NOT CMAKE_CROSSCOMPILING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  find_package"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Drogon CONFIG REQUIRED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  target_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PRIVATE Drogon::Drogon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("DROGON_ROOT /home/tct/workspace/tongkong/expend_new/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("DROGON_DIR /home/tct/workspace/tongkong/expend_new/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BOOST_ROOT /home/tct/workspace/tongkong/expend_new/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JSONCPP_LIBRARIES /home/tct/workspace/tongkong/expend_new/lib/libjsoncpp.so.24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JSONCPP_INCLUDE_DIRS /home/tct/workspace/tongkong/expend_new/include/JSONCPP/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OPENSSL_ROOT_DIR /home/tct/workspace/tongkong/expend_new/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ZLIB_LIBRARY /home/tct/workspace/tongkong/expend_new/lib/libz.so"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  SET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ZLIB_INCLUDE_DIR /home/tct/workspace/tongkong/expend_new/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  find_package"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Trantor\n    PATHS /home/tct/workspace/tongkong/expend_new/ \n    REQUIRED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  find_package"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Drogon\n    PATHS /home/tct/workspace/tongkong/expend_new/ \n    REQUIRED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nendif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ntarget_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PRIVATE Drogon::Drogon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PRIVATE log4cplus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PRIVATE crypto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PRIVATE "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PRIVATE ssh2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_STANDARD LESS "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# With C++14, use boost to support any and string_view")]),s._v("\n    message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use c++14"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    find_package"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Boost "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.61")]),s._v(".0 REQUIRED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    target_include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PRIVATE "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${Boost_INCLUDE_DIRS}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nelseif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_STANDARD LESS "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use c++17"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use c++20"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nendif "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\naux_source_directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("controllers CTL_SRC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\naux_source_directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filters FILTER_SRC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\naux_source_directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugins PLUGIN_SRC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\naux_source_directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("models MODEL_SRC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\naux_source_directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("src COMMON_SRC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ndrogon_create_views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CURRENT_SOURCE_DIR}")]),s._v("/views\n                    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CURRENT_BINARY_DIR}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ntarget_include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v("\n                           PRIVATE "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CURRENT_SOURCE_DIR}")]),s._v("\n                                   "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CURRENT_SOURCE_DIR}")]),s._v("/models\n                                   "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CURRENT_SOURCE_DIR}")]),s._v("/include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget_sources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v("\n               PRIVATE\n               "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SRC_DIR}")]),s._v("\n               "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CTL_SRC}")]),s._v("\n               "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${FILTER_SRC}")]),s._v("\n               "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PLUGIN_SRC}")]),s._v("\n               "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${MODEL_SRC}")]),s._v("\n               "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${COMMON_SRC}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[s._v("#")]),s._v(" update")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),s._v(".0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("update VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_FLAGS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_CXX_FLAGS}")]),s._v(' -Wall -std=c++11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# GLOB_RECURSE命令不仅可以遍历当前路径，还可以遍历路径下面的所有子目录")]),s._v("\nfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GLOB_RECURSE EXTRA_FILES  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src/*.cpp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nadd_executable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("update "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src/update.cpp "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${EXTRA_FILES}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n\ntarget_include_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_NAME}")]),s._v(" PUBLIC "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src \n                                                  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v("/src/CShutDownMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])]),a("p",[s._v("通过vscode底端，切换编译环境；\n通过build编译程序。")]),s._v(" "),a("p",[s._v("::: tips\n写的很好的编译脚本\n:::")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash  ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e  \n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PROJ_ROOT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BUILD_ROOT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROJ_ROOT")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v("[31m Current Build Root: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_ROOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[0m"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -e激活转义字符")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BIN_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_ROOT")]),s._v("/bin\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BIN_PATH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BIN_PATH")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf *\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BIN_PATH")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INC_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_ROOT")]),s._v("/inc\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$INC_PATH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$INC_PATH")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf *\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$INC_PATH")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cp without path")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#find ./src/ -name "*.h" |xargs -i cp {} ./inc/')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DEST_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./inc/"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("headers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -name *.h"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#echo $headers")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$headers")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#echo $file")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("temp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("temp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("*"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dstfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DEST_PATH")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$temp")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dstpath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${dstfile"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("*}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#echo $dstpath")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dstpath")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dstpath")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -R "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dstfile")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LIB_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_ROOT")]),s._v("/lib\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LIB_PATH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LIB_PATH")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf *\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LIB_PATH")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BUILD_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_ROOT")]),s._v("/build\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_PATH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_PATH")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf *\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_PATH")]),s._v("  \n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BUILD_PATH")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\ncmake "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROJ_ROOT")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" -j4\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);