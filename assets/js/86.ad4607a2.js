(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{409:function(a,s,t){"use strict";t.r(s);var r=t(46),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"gcc9-3-0-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gcc9-3-0-安装"}},[a._v("#")]),a._v(" gcc9.3.0 安装")]),a._v(" "),t("h2",{attrs:{id:"先决条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#先决条件"}},[a._v("#")]),a._v(" 先决条件")]),a._v(" "),t("h4",{attrs:{id:"安装基础版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装基础版本"}},[a._v("#")]),a._v(" 安装基础版本")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" build-essential\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 需要先安装基础版本的gcc，才能编译gcc9.3.0里的东西")]),a._v("\n")])])]),t("h4",{attrs:{id:"root管理权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#root管理权限"}},[a._v("#")]),a._v(" root管理权限")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" root\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 或者 ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" root\n")])])]),t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[a._v("#")]),a._v(" 准备工作")]),a._v(" "),t("h5",{attrs:{id:"_1-1下载gcc-9-3-0安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1下载gcc-9-3-0安装包"}},[a._v("#")]),a._v(" 1_1下载GCC-9.3.0安装包")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://mirrors.tuna.tsinghua.edu.cn/gnu/gcc/gcc-9.3.0/gcc-9.3.0.tar.gz\n")])])]),t("h5",{attrs:{id:"_1-2-解压安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-解压安装包"}},[a._v("#")]),a._v(" 1_2 解压安装包")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -xvf gcc-9.3.0.tar.gz\n")])])]),t("h5",{attrs:{id:"_1-3进入gcc解压目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3进入gcc解压目录"}},[a._v("#")]),a._v(" 1_3进入GCC解压目录")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" gcc-9.3.0\n")])])]),t("h5",{attrs:{id:"_2-1下载依赖版本gmp-6-1-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1下载依赖版本gmp-6-1-0"}},[a._v("#")]),a._v(" 2_1下载依赖版本gmp-6.1.0")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://mirrors.tuna.tsinghua.edu.cn/gnu/gmp/gmp-6.1.0.tar.xz\n")])])]),t("h5",{attrs:{id:"解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[a._v("#")]),a._v(" 解压")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -xvf gmp-6.1.0.tar.xz\n")])])]),t("h5",{attrs:{id:"改名成需要的目录名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改名成需要的目录名"}},[a._v("#")]),a._v(" 改名成需要的目录名")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" gmp-6.1.0 gmp\n")])])]),t("h5",{attrs:{id:"_2-2-下载依赖版本mpfr-3-1-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-下载依赖版本mpfr-3-1-4"}},[a._v("#")]),a._v(" 2_2 下载依赖版本mpfr-3.1.4")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://mirrors.tuna.tsinghua.edu.cn/gnu/mpfr/mpfr-3.1.4.tar.gz\n")])])]),t("h5",{attrs:{id:"解压-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解压-2"}},[a._v("#")]),a._v(" 解压")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -xvf mpfr-3.1.4.tar.gz\n")])])]),t("h5",{attrs:{id:"改名成需要的目录名-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改名成需要的目录名-2"}},[a._v("#")]),a._v(" 改名成需要的目录名")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" mpfr-3.1.4 mpfr\n")])])]),t("h5",{attrs:{id:"_2-3-下载依赖版本mpc-1-0-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-下载依赖版本mpc-1-0-3"}},[a._v("#")]),a._v(" 2_3 下载依赖版本mpc-1.0.3")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://mirrors.tuna.tsinghua.edu.cn/gnu/mpc/mpc-1.0.3.tar.gz\n")])])]),t("h5",{attrs:{id:"解压-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解压-3"}},[a._v("#")]),a._v(" 解压")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -xvf mpc-1.0.3.tar.gz\n")])])]),t("h5",{attrs:{id:"改名成需要的目录名-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改名成需要的目录名-3"}},[a._v("#")]),a._v(" 改名成需要的目录名")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" mpc-1.0.3 mpc\n")])])]),t("h5",{attrs:{id:"其依赖关系为-gcc-mpc-mpfr-gmp-m4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其依赖关系为-gcc-mpc-mpfr-gmp-m4"}},[a._v("#")]),a._v(" 其依赖关系为 gcc->mpc->mpfr->gmp->m4")]),a._v(" "),t("h2",{attrs:{id:"编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译安装"}},[a._v("#")]),a._v(" 编译安装")]),a._v(" "),t("h5",{attrs:{id:"_1-设置配置信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-设置配置信息"}},[a._v("#")]),a._v(" 1 设置配置信息")]),a._v(" "),t("h5",{attrs:{id:"建立编译目录-并进入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建立编译目录-并进入"}},[a._v("#")]),a._v(" 建立编译目录，并进入")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" gcc-build\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" gcc-build\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#（/usr/local/gcc-9.3.0是新版本GCC的安装目录，可以更换，原始gcc运行目录为/usr/bin/gcc）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/configure --prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/gcc-9.3.0 --disable-multilib --enable-languages"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c,c++\n")])])]),t("h5",{attrs:{id:"_2-编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-编译"}},[a._v("#")]),a._v(" 2 编译")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 4是cpu核心数，可根据cpu核数设置，因为编译过程很长，尽可能使用全部cpu资源")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" -j "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v("  \n")])])]),t("h5",{attrs:{id:"_3-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装"}},[a._v("#")]),a._v(" 3 安装")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -j "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v("\n")])])]),t("h2",{attrs:{id:"替换命令链接和配置环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#替换命令链接和配置环境变量"}},[a._v("#")]),a._v(" 替换命令链接和配置环境变量")]),a._v(" "),t("h5",{attrs:{id:"_1-替换gcc-cc命令的链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-替换gcc-cc命令的链接"}},[a._v("#")]),a._v(" 1. 替换gcc cc命令的链接")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -s /usr/local/gcc-9.3.0 /usr/local/gcc\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -s /usr/local/gcc-9.3.0/bin/gcc /usr/local/cc\n如果发生错误 可以先备份原来的链接比如\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" /usr/local/gcc /usr/local/gcc.bak\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" /usr/local/cc /usr/local/cc.bak\n")])])]),t("h5",{attrs:{id:"_2-配置环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置环境变量"}},[a._v("#")]),a._v(" 2. 配置环境变量")]),a._v(" "),t("h5",{attrs:{id:"将以下配置写入环境变量中-如全局变量-etc-profile-或个人变量-bashrc-文件最后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将以下配置写入环境变量中-如全局变量-etc-profile-或个人变量-bashrc-文件最后"}},[a._v("#")]),a._v(" 将以下配置写入环境变量中，如全局变量/etc/profile 或个人变量~./.bashrc 文件最后")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/gcc/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LD_LIBRARY_PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/gcc/lib64\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MANPATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/gcc/share/man:"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MANPATH")]),a._v("\n")])])]),t("h5",{attrs:{id:"_3-使用-etc-profile-或-bashrc-可以更新环境变量-注意有一个"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用-etc-profile-或-bashrc-可以更新环境变量-注意有一个"}},[a._v("#")]),a._v(" 3. 使用 . /etc/profile 或 . .bashrc 可以更新环境变量（注意有一个'.'）")]),a._v(" "),t("h2",{attrs:{id:"检查安装是否成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查安装是否成功"}},[a._v("#")]),a._v(" 检查安装是否成功")]),a._v(" "),t("h5",{attrs:{id:"使用以下命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用以下命令"}},[a._v("#")]),a._v(" 使用以下命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("gcc -v\ng++ -v\ncc -v\n")])])]),t("h5",{attrs:{id:"可以得到类似的结果说明安装成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可以得到类似的结果说明安装成功"}},[a._v("#")]),a._v(" 可以得到类似的结果说明安装成功")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("使用内建 specs。\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("COLLECT_GCC")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("gcc\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("COLLECT_LTO_WRAPPER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/gcc-9.3.0/libexec/gcc/x86_64-pc-linux-gnu/9.3.0/lto-wrapper\n目标：x86_64-pc-linux-gnu\n配置为："),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/configure --prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/gcc-9.3.0 --disable-multilib --enable-languages"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c,c++\n线程模型：posix\ngcc 版本 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9.3")]),a._v(".0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("GCC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n")])])]),t("h5",{attrs:{id:"正常安装显卡驱动或cuda即可-注意gcc与cuda的匹配。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正常安装显卡驱动或cuda即可-注意gcc与cuda的匹配。"}},[a._v("#")]),a._v(" 正常安装显卡驱动或cuda即可，注意gcc与cuda的匹配。")]),a._v(" "),t("p",[a._v("整完发现cc的版本不对，需要如下操作")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -sf /usr/local/gcc-9.3.0/bin/gcc gcc\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -sf /usr/local/gcc-9.3.0/bin/c++ c++\n\n通过ll查看当前链接\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);